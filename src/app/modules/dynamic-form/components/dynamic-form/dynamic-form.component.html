<article class="gallery">
  <h2 class="gallery__title">Динамические поля формы</h2>

  <div class="my-form">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
      <div>
        <mat-form-field class="example-full-width">
          <mat-label>Name</mat-label>
          <input matInput name="name" formControlName="name">
        </mat-form-field>
      </div>
      <div>
        Skills:
        <div formArrayName="skills">
          <div *ngFor="let skill of skills.controls; let i=index">
            <div [formGroupName]="i">

              <mat-form-field class="example-full-width">
                <mat-label>{{i}}. skill name</mat-label>
                <input matInput formControlName="skill">
              </mat-form-field>

              <mat-form-field class="example-full-width">
                <mat-label>Exp</mat-label>
                <input matInput formControlName="exp">
              </mat-form-field>

              <button mat-flat-button color="primary" (click)="removeSkill(i)">Delete</button>

              <mat-divider></mat-divider>
            </div>
          </div>
        </div>
      </div>
      <div>
        <button mat-flat-button color="primary" type="submit">Submit</button>
      </div>
    </form>

    <div>
      <button mat-flat-button color="primary" (click)="addSkill()">Add new</button>
    </div>

    <div style="background: #fff; padding: 10px; color: #000; min-height: 200px;">
      <pre><code>{{ this.myForm.value | json }}</code></pre>
    </div>
  </div>
</article>

